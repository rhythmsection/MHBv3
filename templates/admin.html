{% extends 'index.html' %}
{% block body %}
	<center>
  	<div class="container-fluid cent" style="width:70%">
		<div class="btn-group btn-group-justified" role="group">
		  <div class="btn-group" role="group" style="margin-top:10px">
		    <button id="run" type="button" class="btn btn-default">Record and Run</button>
		  </div>
		  <div class="btn-group" role="group">
		    <button id="instructions" type="button" class="btn btn-default">Instructions</button>
		  </div>
		  <div class="btn-group" role="group">
		    <button id="database_list" type="button" class="btn btn-default">Current Database</button>
		  </div>
		  <div class="btn-group" role="group">
		    <button id="about" type="button" class="btn btn-default">About MHB</button>
		  </div>
		</div>
      <div id="info_text">
        <div id="text_block" class="well transparent" style="display:none; margins:0">
        </div> 
        {% block mhb %}
        {% endblock %}
      </div>  
	</center>

<script>



  $( "#run" ).click(function() {
  $("#text_block").show()
  $("#action_div").css("visibility", "hidden")
    $('#text_block').html("");
    $('#text_block').append(
        "<form action='/full_app' style='margin-bottom:0'><button class='btn btn-danger' type='submit'>Grab Your Vinyl and Hop On Your Fixie</button></form>" +
        "</div>");
  });

  $( "#about" ).click(function() {
    $("#text_block").show()
    $("#action_div").css("visibility", "hidden")
    $('#text_block').html("");
    $('#text_block').html( 
          "<div style='padding:20px'>" +
          "<p>MyHipsterBoyfriend is a music recognition system that enables the user to " +
          "record audio through their computer's microphone and compare it, using acoustic " +
          "fingerprinting and interval matching, to a self-seeded database of existing " +
          "acoustic fingerprints to find the best match for that song.</p>" +
          "<p>Please take a look at the documentation for further exploration of the "+
          "algorithm and subsequent functionality.</p>" +
          "<br>" +
          "<a href='https://github.com/rhythmsection/MHBv3'><img src='/static/images/github.png'></a>" + 
          "</div>");
  });

  $( "#instructions" ).click(function() {
    $("#text_block").show()
    $("#action_div").css("visibility", "hidden")
    $('#text_block').html("");
    $('#text_block').html(
          "<div style='padding:20px'>" +
          "<p style='text-align:left'><ul style='text-align:left'>" +
          "<li>Fire up your Chrome browser (MHB does not work in Safari)</li>" +
          "<li>Click 'Allow' when the browser asks permission to use your microphone</li>" +
          "<li>Click the turntable button in the UI</li>" + 
          "<li>While the turntable pulses red (roughly 10 seconds), play a sample from one of "+
          "the listed tracks into your microphone</li>" +
          "</ul>" +
          "MyHipsterBoyfriend will attempt to match your clip with one of the songs in its "+
          "database. Have fun!</p></div>");
  });


  $( "#database_list" ).click(function() {
    $("#text_block").show()
    $("#action_div").css("visibility", "hidden")
    $('#text_block').load("/mini_base");
  });

</script>

{% endblock %}